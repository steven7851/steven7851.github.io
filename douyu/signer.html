<!DOCTYPE html><html><title>douyu</title><head><script type="text/javascript" src="flashemu.js"></script><script>'use strict';function sign(a,b,c){FlashEmu.BUILTIN='builtin.abc',FlashEmu.PLAYERGLOBAL='playerglobal.abc',FlashEmu.setGlobalFlags({enableDebug:!1,enableLog:!1,enableWarn:!1,enableError:!1});var d=new FlashEmu({readFile:function readFile(f){return fetch(f).then(function(g){return g.arrayBuffer()}).then(function(g){return new Uint8Array(g).buffer})}});d.runSWF('douyu.swf',!1).then(function(){var f=d.getVM(),g=f.getProxy(d.getProperty('sample.mp','CModule')),h=f.getProxy(d.getPublicClass('mp'));g.callProperty('startAsync'),console.log('sign',a,b,c);var i=g.callProperty('malloc',4),j=g.callProperty('malloc',4),k=h.callProperty('sub_2',parseInt(a),parseInt(b),c.toString(),j,i),l=g.callProperty('read32',i),n=g.callProperty('readString',l,k),o=g.callProperty('read32',j),p=g.callProperty('readString',o,4);g.callProperty('free',i),g.callProperty('free',j),console.log('sign result',n,p);var q={};q.sign=n,q.cptl=p;var r=JSON.stringify(q),s=document.createElement('div'),t=document.createTextNode(r);s.id='sign',s.appendChild(t),document.body.appendChild(s)}).catch(function(f){return console.error(f)})}function getUrlVars(){var a={},b=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(c,d,f){a[d]=f});return a}var rid=getUrlVars().rid,tt=getUrlVars().tt,did=getUrlVars().did;sign(rid,tt,did);</script></head><body></body></html>