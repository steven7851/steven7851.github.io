<!DOCTYPE html><html><title>douyu</title><head><script type="text/javascript" src="flashemu.js"></script><script>'use strict';function sign(a,b,c){FlashEmu.BUILTIN='builtin.abc',FlashEmu.PLAYERGLOBAL='playerglobal.abc',FlashEmu.setGlobalFlags({enableDebug:!1,enableLog:!1,enableWarn:!1,enableError:!1});var d=new FlashEmu({readFile:function readFile(f){return fetch(f).then(function(g){return g.arrayBuffer()}).then(function(g){return new Uint8Array(g).buffer})}});d.runSWF('vdouyu.swf',!1).then(function(){var f=d.getVM(),g=f.getProxy(d.getProperty('sample.zz','CModule')),h=f.getProxy(d.getPublicClass('zz'));g.callProperty('startAsync'),console.log('sign',a,b,c);var i=g.callProperty('malloc',4),j=h.callProperty('sub_1',parseInt('1'),a.toString(),c.toString(),parseInt(b),i),k=g.callProperty('read32',i),l=g.callProperty('readString',k,j);h.callProperty('sub_2',i),g.callProperty('free',i),console.log('sign result',l);var n={};n.sign=l;var o=JSON.stringify(n),p=document.createElement('div'),q=document.createTextNode(o);p.id='sign',p.appendChild(q),document.body.appendChild(p)}).catch(function(f){return console.error(f)})}function getUrlVars(){var a={},b=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(c,d,f){a[d]=f});return a}var vid=getUrlVars().vid,tt=getUrlVars().tt,did=getUrlVars().did;sign(vid,tt,did);</script></head><body></body></html>