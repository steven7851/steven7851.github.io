<!DOCTYPE html><html><title>douyu</title><head> <script type="text/javascript" src="flashemu.js"></script> <script>"use strict";function sign(e,r,t){FlashEmu.BUILTIN="builtin.abc",FlashEmu.PLAYERGLOBAL="playerglobal.abc",FlashEmu.setGlobalFlags({enableDebug:!1,enableLog:!1,enableWarn:!1,enableError:!1});var n=new FlashEmu({readFile:function(e){return fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return new Uint8Array(e).buffer})}});n.runSWF("vdouyu.swf",!1).then(function(){var a=n.getVM(),l=a.getProxy(n.getProperty("sample.zz","CModule")),o=a.getProxy(n.getPublicClass("zz"));l.callProperty("startAsync"),console.log("sign",e,r,t);var i=l.callProperty("malloc",4),c=o.callProperty("sub_1",parseInt("1"),e.toString(),t.toString(),parseInt(r),i),s=l.callProperty("read32",i),u=l.callProperty("readString",s,c);o.callProperty("sub_2",i),l.callProperty("free",i),console.log("sign result",u);var d=new Object;d.sign=u;var g=JSON.stringify(d),f=document.createElement("div"),p=document.createTextNode(g);f.id="sign",f.appendChild(p),document.body.appendChild(f)})["catch"](function(e){return console.error(e)})}function getUrlVars(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(r,t,n){e[t]=n});return e}var vid=getUrlVars().vid,tt=getUrlVars().tt,did=getUrlVars().did;sign(vid,tt,did);</script> </head><body></body></html>